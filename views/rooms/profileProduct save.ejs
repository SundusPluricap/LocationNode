<%- include('../partials/header') -%>

<title><%= param.name %> Profile</title>
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/profile.css">

<!-- Slick CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
</head>
<body>
    <div class="container">
        <%- include('../partials/sidebar') -%>
        <div class="main-content">
            <h1 class="mb-4"> <%= param.product.name %></h1>

            <div class="row">
                <div class="col-md-5">
                    <table class="user-profile-table">
                        <tr>
                            <td>ID:</td>
                            <td><%= param.product.id %></td>
                        </tr>
                        <tr>
                            <td>Nom:</td>
                            <td><%= param.product.name %></td>
                        </tr>
                        <tr>
                            <td>Capacité:</td>
                            <td><%= param.product.capacity %></td>
                        </tr>
                        <tr>
                            <td>Prix:</td>
                            <td><%= param.product.price %></td>
                        </tr>

                        <!-- Existing Code -->
                        <tr>
                            <td>Appartient au bâtiment:</td>
                            <% if (param.product.Batiment) { %>
                                <td><%= param.product.Batiment.name %></td>
                            <% } else { %>
                                <td>N/A</td>
                            <% } %>
                        </tr>
                        <tr>
                            <td>Adresse:</td>
                            <% if (param.product.Batiment) { %>
                                <td><%= param.product.Batiment.adresse %></td>
                            <% } else { %>
                                <td>N/A</td>
                            <% } %>
                        </tr>
                        <!-- Remaining Code -->

                        
                    </table>
                </div>
                <div class="col-md-7">

                    <div class="photo-container">
                        <% if (param.images && param.images.length > 0) { %>
                            
                            <div class="photo-slider">
                                <% param.images.forEach((image) => { %>
                                    

                                    <div class="slider-item slider-item-3d">
                                        <img src="/images/products/<%= image.name %>" alt="<%= image.description %>" class="img-fluid">
                                        <!-- <div class="image-buttons">
                                          <a class="edit-img" href="/products/img/<%= image.id %>/change">Modifier</a>
                                          |
                                          <a class="delete-img" href="/products/img/<%= image.id %>/delete">Supprimer</a>
                                        </div> -->
                                      </div>
                                
                                <% }); %>
                            </div>
                        <% } else { %>
                            <p class="no-photo-message">Pas de photos disponibles pour cette salle.</p>
                        <% } %>
                    </div>

                    
                </div>
            </div>

            <div class="actions-container text-center mt-4">
                <a href="<%= param.product.id %>/edit" class="edit-button">Modifier</a>
                <a href="/products/<%= param.product.id %>/delete" class="delete-button" onclick="return confirmDelete()">Supprimer</a>
            </div>
        </div>
    </div>

    <script src="/js/delete.js"></script>

    <!-- Slick JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    
    <script src="/js/slider.js"></script>
</body>
</html>
